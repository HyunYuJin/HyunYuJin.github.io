---
layout: post
title: Hoisting? (호이스팅?)
date: 2020-05-09 10:09:00
description: 자바스크립트 공부
---

#### Hoisting: 끌어 올리기, 들어올려 나르기

##### Hoisting의 뜻
말 그대로 끌어올리는 것이다. **코드를!**
내가 선언하기 전에 사용된 변수, 즉 **없는 변수**가 갑자기 튀어나와서 undefined를 내뱉고 프로그램이 죽지 않는 이유는 호이스팅이 일어났기 때문이다.
함수 선언문에서 변수 없이 함수를 선언한 것이므로 전체 코드가 호이스팅이 일어났다.
**오류를 최소화**하려는 전략이었던거 같다.🤔

## Hoisting 변환 전
```javascript
console.log(newjean); // undefined, Not Error
console.log(hello); // function hello() { console.log("hello") }

var newjean = 'newjean';

function hello() {
	console.log('hello');
}
```

## Hoisting 변환 후
```javascript
var newjean;
function hello() {
	console.log('hello');
}

console.log(newjean);
console.log(hello);

newjean = 'newjean';
```

# ES2015+ 에서는?
TDZ(Temporal Dead Zone): 변수가 임시로 죽어있는 공간
TDZ는 변수 선언(호이스팅에 의해 스코프 상단으로 끌어올려진 부분)부터 변수의 할당을 만나기 전 부분까지 형성되는 구간인데 해당 변수가 끼어들면서 오류가 발생한다.

```javascript
const newjean = 'newjean';
const hello = function() {
	console.log(newjean); // Uncaughht ReferenceError: newjean is not defined
	let world = 'world';
}
hello();
```
```javascript
const newjean = 'newjean';
const hello = function() {
	let newjean; // 사실 이렇게 변수 선언부가 호이스팅에 의해 스코프 상단으로 끌어올려진다.
	// 변수 초기화 구문을 만나기 전까지 TDZ가 형성된다.
	console.log(newjean); // TDZ에서 해당 변수가 쓰였다면 에러
	// 여기까지 TDZ.
	newjean = 'world';
}
hello();
```
